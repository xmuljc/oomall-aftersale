### 变量设置
@shopId = 1
@id = 1
@baseUrl = http://localhost:8080

# ----------------------------
# 场景 1：测试拒绝 (应该存入 reason)
# ----------------------------

### 重置数据 (为了反复测试)
# 这一步建议在数据库工具里做，http里做不了SQL
# UPDATE after_sales_order SET status=0 WHERE id=1;

### 1. 发送拒绝请求
PUT {{baseUrl}}/shops/{{shopId}}/aftersales/{{id}}/confirm
Content-Type: application/json
Authorization: Bearer my-token

{
  "confirm": false,
  "type": 2,
  "conclusion": "不同意",
  "reason": "IdeaClient测试: 机器进水人为损坏"
}

### 预期结果：
# 数据库中 status = 2
# 数据库中 conclusion = "不同意"
# 数据库中 reason = "IdeaClient测试: 机器进水人为损坏"


# ----------------------------
# 场景 2：测试同意 (reason 应该为空或不重要)
# ----------------------------

### 重置数据 (手动执行 SQL)
# UPDATE after_sales_order SET status=0 WHERE id=1;

### 2. 发送同意请求
PUT {{baseUrl}}/shops/{{shopId}}/aftersales/{{id}}/confirm
Content-Type: application/json
Authorization: Bearer my-token

{
  "confirm": true,
  "type": 2,
  "conclusion": "同意"
}

### 预期结果：
# 数据库中 status = 1
# 数据库中 conclusion = "同意"
# 数据库中 reason = null (或者看你代码是否清空)
# 控制台打印 [FixStrategy] 相关日志